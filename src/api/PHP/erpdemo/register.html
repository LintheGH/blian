<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Register</title>
	<link rel="stylesheet" type="text/css" href="../../../libs/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="../../../libs/jquery-confirm/jquery-confirm.css">
	<link rel="stylesheet" type="text/css" href="../../../libs/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="libs/css/common.css">

	<script type="text/javascript" src="../../../libs/jquery/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="../../../libs/jquery-confirm/jquery-confirm.js"></script>
	<script type="text/javascript" src="../../../libs/angular/angular.min.js"></script>
	<script type="text/javascript" src="libs/js/common.js"></script>

	<style type="text/css" media="screen">
		.bs-example{width: 45%; margin: 20px auto;}
	</style>
</head>
<body ng-app="dkAPP" ng-controller="dkController">
	<div class="bs-example">
	    <form class="form-horizontal" role="form">
	      <div class="form-group">
	        <label for="inputEmail3" class="col-sm-2 control-label">Email</label>
	        <div class="col-sm-10">
	          <input type="email" class="form-control" ng-model="email" placeholder="Email">
	        </div>
	      </div>      
	      <div class="form-group">
	        <label for="inputPassword3" class="col-sm-2 control-label">Password</label>
	        <div class="col-sm-10">
	          <input type="password" class="form-control" ng-model="password" placeholder="Password">
	        </div>
	      </div>    
	     <div class="form-group">
	        <label for="inputPassword3" class="col-sm-2 control-label">Confirm Password</label>
	        <div class="col-sm-10">
	          <input type="password" class="form-control" ng-model="repassword" placeholder="Confirm Password">
	        </div>
	      </div>       
	      <div class="form-group">
	        <label for="inputEmail3" class="col-sm-2 control-label">Phone</label>
	        <div class="col-sm-10">
	          <input type="text" class="form-control" ng-model="phone" placeholder="Phone">
	        </div>
	      </div>         
	      <div class="form-group">
	        <div class="col-sm-offset-2 col-sm-10">
	          <button type="button" ng-click="submit()" class="btn btn-default">Register</button>
	        </div>
	      </div>
	    </form>
  	</div>
	<script type="text/javascript">
		var dkAPP = angular.module('dkAPP', ['commonApp']);
		dkAPP.controller('dkController', ['$scope', '$http', function ($scope, $http) {
			$scope.submit = function(){
				$http.post('register.php', {
					email: $scope.email,
					password: $scope.password,
					phone: $scope.phone
				}).success(function(response){
					// var $obj = eval('(' + response + ')');
					if(response.state){
						window.location.href = 'login.html';
					} else {
						$.alert(response.message);
					}
				})				
			}

		}])
	</script>
</body>
</html>